---
layout: post
title: Enabling and disabling Windows Features from the command line
date: '2012-08-12T06:13:00.000-07:00'
author: Gert Lombard
tags:
- Hyper-V
- Command-Line
modified_time: '2013-03-11T09:41:17.037-07:00'
blogger_id: tag:blogger.com,1999:blog-1583243090910089198.post-2079341500446269039
blogger_orig_url: http://www.lombard.me/2012/08/enabling-and-disabling-windows-features.html
---

<p>This blog post briefly describes how to use the DISM.EXE command to enable or disable Windows Features from the command line. Normally you’d use the <em>Programs and Features</em> –&gt; <em>Turn Windows features on or off</em> dialog in the Control Panel to enable a Windows feature such as IIS or MSMQ. I prefer to use the command line for anything I can, partly because of a left-over habit from my DOS (and some Linux) days, but mostly because it means I can automate things in batch files.</p> <p>Start an elevated command prompt. (Right-click on Command Prompt and click "Run as administrator").</p> <p>To find the name of the feature you want to enable or disable, first list all the installed features. To list all the features available on the PC, whether enabled or not, run:</p> <blockquote> <p><font style="background-color: #000000" face="Courier New"></font><font face="Courier New">C:\&gt; dism /Online /Get-Features</font></p></blockquote> <p>This will display the long list of all the available features and their Enabled/Disabled state.</p> <p>Filter to the list to find the name of the specific feature you're looking for.&nbsp; For example, to find the Hyper-V features:</p> <blockquote> <p><font face="Courier New">C:\&gt; dism /Online /Get-Features /Format:Table | find "Hyper"<br>Microsoft-Hyper-V-All&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Disabled<br>Microsoft-Hyper-V-Tools-All&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Disabled<br>Microsoft-Hyper-V&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Disabled<br>Microsoft-Hyper-V-Management-Clients&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Disabled<br>Microsoft-Hyper-V-Management-PowerShell&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Disabled</font></p></blockquote> <p>When you find the name of the feature (for example Microsoft-Hyper-V), you can enable it with:</p> <blockquote> <p><font face="Courier New">C:\&gt; dism /Online /Enable-Feature /FeatureName:Microsoft-Hyper-V /All</font></p> <p><font face="Courier New">Deployment Image Servicing and Management tool<br>Version: 6.2.9200.16384</font></p> <p><font face="Courier New">Image Version: 6.2.9200.16384</font></p> <p><font face="Courier New">Enabling feature(s)<br>[==========================100.0%==========================]<br>The operation completed successfully.<br>Restart Windows to complete this operation.<br>Do you want to restart the computer now? (Y/N)</font></p></blockquote> <p>Similarly, to disable the feature again, run:</p> <blockquote> <p><font face="Courier New">C:\&gt; dism /Online /Disable-Feature /FeatureName:Microsoft-Hyper-V-All</font></p> <p><font face="Courier New">Deployment Image Servicing and Management tool<br>Version: 6.2.9200.16384</font></p> <p><font face="Courier New">Image Version: 6.2.9200.16384</font></p> <p><font face="Courier New">Disabling feature(s)<br>[==========================100.0%==========================]<br>The operation completed successfully.<br>Restart Windows to complete this operation.<br>Do you want to restart the computer now? (Y/N)</font></p></blockquote> <p>This should work on Windows 8 as well as Windows 7 and Windows Server 2008 R2.</p>  